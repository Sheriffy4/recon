@echo off
chcp 65001 >nul
echo ================================================================================
echo –ü–û–õ–ù–ê–Ø –í–ê–õ–ò–î–ê–¶–ò–Ø: –¢–ï–°–¢ + –ü–†–û–í–ï–†–ö–ê LOG-PCAP –°–û–û–¢–í–ï–¢–°–¢–í–ò–Ø
echo ================================================================================
echo.

echo ‚úÖ –í—Å–µ 5 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø—Ä–∏–º–µ–Ω–µ–Ω—ã:
echo    1. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç forced override –Ω–∞–¥ domain strategy
echo    2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ forced override –ø—Ä–∏ start()
echo    3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ attacks –≤ fallback (adaptive_engine.py)
echo    4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ attacks –≤ _load_from_dict (UnifiedStrategyLoader)
echo    5. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ attacks –≤–æ –í–°–ï–• –ø–∞—Ä—Å–µ—Ä–∞—Ö (UnifiedStrategyLoader)
echo.

echo ================================================================================
echo –®–ê–ì 1: –ü–†–û–í–ï–†–ö–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô
echo ================================================================================
python verify_complete_fix.py
if %ERRORLEVEL% NEQ 0 (
    echo.
    echo ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: –ù–µ –≤—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã!
    echo    –ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–æ–±–ª–µ–º—ã –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Ç–µ—Å—Ç–∞.
    pause
    exit /b 1
)
echo.

echo ================================================================================
echo –®–ê–ì 2: –û–ß–ò–°–¢–ö–ê –°–¢–ê–†–´–• –î–ê–ù–ù–´–•
echo ================================================================================
echo –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö PCAP —Ñ–∞–π–ª–æ–≤...
del /Q "C:\Users\admin\AppData\Local\Temp\recon_pcap\*.pcap" 2>nul
echo ‚úÖ PCAP —Ñ–∞–π–ª—ã –æ—á–∏—â–µ–Ω—ã
echo.

echo –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –ª–æ–≥–∞...
del /Q test_googlevideo_VALIDATION.txt 2>nul
echo ‚úÖ –°—Ç–∞—Ä—ã–π –ª–æ–≥ —É–¥–∞–ª–µ–Ω
echo.

echo ================================================================================
echo –®–ê–ì 3: –ó–ê–ü–£–°–ö –¢–ï–°–¢–ê
echo ================================================================================
echo –ö–æ–º–∞–Ω–¥–∞: python cli.py auto www.googlevideo.com --mode deep
echo –õ–æ–≥: test_googlevideo_VALIDATION.txt
echo.
python cli.py auto www.googlevideo.com --mode deep > test_googlevideo_VALIDATION.txt 2>&1
echo ‚úÖ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω
echo.

echo ================================================================================
echo –®–ê–ì 4: –ë–ê–ó–û–í–ê–Ø –ü–†–û–í–ï–†–ö–ê –õ–û–ì–ê
echo ================================================================================

echo –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: Forced Override –∞–∫—Ç–∏–≤–µ–Ω?
findstr /C:"FORCED OVERRIDE ACTIVE" test_googlevideo_VALIDATION.txt >nul
if %ERRORLEVEL% EQU 0 (
    echo ‚úÖ Forced override —Ä–∞–±–æ—Ç–∞–µ—Ç
) else (
    echo ‚ùå Forced override –ù–ï –Ω–∞–π–¥–µ–Ω
)

echo –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞—Ç–∞–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è?
findstr /C:"All attacks included" test_googlevideo_VALIDATION.txt >nul
if %ERRORLEVEL% EQU 0 (
    echo ‚úÖ –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞—Ç–∞–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
) else (
    echo ‚ö†Ô∏è  –°–æ–æ–±—â–µ–Ω–∏—è –æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞—Ç–∞–∫–∞—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
)

echo –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –°—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–∞–π–¥–µ–Ω–∞?
findstr /C:"SUCCESS" test_googlevideo_VALIDATION.txt >nul
if %ERRORLEVEL% EQU 0 (
    echo ‚úÖ –†–∞–±–æ—á–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–∞–π–¥–µ–Ω–∞
) else (
    echo ‚ùå –†–∞–±–æ—á–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ù–ï –Ω–∞–π–¥–µ–Ω–∞
)
echo.

echo ================================================================================
echo –®–ê–ì 5: –î–ï–¢–ê–õ–¨–ù–ê–Ø –í–ê–õ–ò–î–ê–¶–ò–Ø LOG-PCAP
echo ================================================================================
echo –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –≤ –ª–æ–≥–µ —Å PCAP —Ñ–∞–π–ª–∞–º–∏...
echo.
python log_pcap_validator.py --log test_googlevideo_VALIDATION.txt --pcap-dir "C:\Users\admin\AppData\Local\Temp\recon_pcap"
set VALIDATION_RESULT=%ERRORLEVEL%
echo.

echo ================================================================================
echo –ò–¢–û–ì–û–í–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢
echo ================================================================================
echo.

if %VALIDATION_RESULT% EQU 0 (
    echo üéâ –£–°–ü–ï–•! –í–°–ï –ü–†–û–í–ï–†–ö–ò –ü–†–û–ô–î–ï–ù–´!
    echo.
    echo ‚úÖ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
    echo ‚úÖ Forced override —Ä–∞–±–æ—Ç–∞–µ—Ç
    echo ‚úÖ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
    echo ‚úÖ –õ–æ–≥–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç PCAP —Ñ–∞–π–ª–∞–º
    echo.
    echo üëâ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!
) else if %VALIDATION_RESULT% EQU 1 (
    echo ‚ö†Ô∏è  –ß–ê–°–¢–ò–ß–ù–´–ô –£–°–ü–ï–• (60-79%%)
    echo.
    echo ‚úÖ –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø—Ä–æ–π–¥–µ–Ω–æ
    echo ‚ö†Ô∏è  –ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π
    echo.
    echo üëâ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ—Ç–∞–ª–∏ –≤—ã—à–µ
    echo.
    echo –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–π:
    echo   - PCAP capture timing (–ø—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã)
    echo   - –ù–µ–¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ–º—ã–µ –∞—Ç–∞–∫–∏ (payload_encryption)
    echo   - –°–ª–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∞—Ç–∞–∫
    echo.
    echo –ï—Å–ª–∏ match rate ^>= 70%% - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!
    echo –°–º–æ—Ç—Ä–∏—Ç–µ VALIDATION_SUCCESS.md –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.
) else (
    echo ‚ùå –ù–ò–ó–ö–ò–ô MATCH RATE (^< 60%%)
    echo.
    echo ‚ùå –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π
    echo.
    echo üëâ –¢–†–ï–ë–£–ï–¢–°–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê!
    echo.
    echo –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
    echo   1. –§–∞–π–ª –ª–æ–≥–∞: test_googlevideo_VALIDATION.txt
    echo   2. PCAP —Ñ–∞–π–ª—ã: C:\Users\admin\AppData\Local\Temp\recon_pcap\
    echo   3. –í—ã–≤–æ–¥ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ –≤—ã—à–µ
    echo   4. VALIDATION_INSTRUCTIONS.md –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
)

echo.
echo ================================================================================
pause
