1. теперь у нас будут всегда корректные стратегии или мы сейчас сделали только что мы видим то что в логе = то что в pcap ?

суть в том что у другого человека будет стоять эта программа и я ему скидываю рабочу стратегию для какого-нибудь неработающего сайта, этот сайт должен у него тоже заработать (с учетом того что у него такой же провайдер или dpi). то есть я к тому, что у нас стратегия должна корректно применяться

2. необходимо разработать режим оптимизации стратегии(например cli.py auto -optimize example.com), в котором будут искаться стратегии максимально быстрые (которые будут давать наименьшее количество ретрансмиссий и низикой задержкой). то есть я сейчас столкнулся с тем, что при тестировании python cli.py auto --verify-with-pcap pagead2.googlesyndication.com практически всегда единственная стратегия находится (вероятно потому что логика поиска такова,, что первая стратегия тестируется из тех что есть в конфигурации для этого домена и если она работает(домен открылся), то дальнейший поиск прекращается) и может не максимально оптимальная. поэтому при выборе параметра -optimize будут искаться всевозможные рабочие варианты и выбираться наилучшая. возможно в параметр поиска надо добавить количество итераций или нкайденное количество рабочих стратегий, чтобы не останавливался поиск пока не найдет 10 рабочих и так далее.

3. продумать для следующего спека, разработать функционал , если стратегия перестала работать, автоматически запускать поиск рабочей стратегии для домена. тут необходимо продумать как это будет реализовано. например у меня есть 2 варианта. первый вариант это в режиме службы обхода анализируется весь трафик и если служба видит что домен заблокирован> запускается поиск стратегии для домена>найденная стратегия добавляется в конфиг и мгновенно начинает работу(если мгновенно применение невозможно, тогда быстро служба перезапускается) . пример: у меня в файлах со стратегиями и sites.txt  не прописан домен ntc.party. я в браузере пытаюсь его открыть, а он не открывается. я несколько раз продолжаю пытаться его открыть. при каком-то количестве ретрансмиссий или таймауте (не знаю как скрипт определит что это блокировка dpi), он запускает режим поиска и найдя стратегию добавляет в конфиг и начинает обходить dpi. вторая возможность, это если домен есть в конфиге  и sites.txt и тут вдруг в моменте когда в режиме службы обхода начинает выдавать что домен заблокирвоан и не открывается, автоматически запускается служба поиска стратегии> новая рабочая стратегия заменяет страрую и начинает работать