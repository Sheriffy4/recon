# üîç –î–ò–ê–ì–ù–û–°–¢–ò–ß–ï–°–ö–ò–ô –û–¢–ß–Å–¢: BYPASS –ù–ï –ê–ö–¢–ò–í–ò–†–£–ï–¢–°–Ø

## –î–∞—Ç–∞: 2025-10-03
## –°—Ç–∞—Ç—É—Å: –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê –ù–ê–ô–î–ï–ù–ê ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ê

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:
```
‚úì Recon –∑–∞–≤–µ—Ä—à–µ–Ω
‚ùå –§–∞–π–ª recon_summary.json –Ω–µ –Ω–∞–π–¥–µ–Ω
‚ùå –ù–µ—Ç fake –ø–∞–∫–µ—Ç–æ–≤ –≤ PCAP
‚ùå –í—Å–µ –ø–∞–∫–µ—Ç—ã –∏–º–µ—é—Ç TTL=128 (–Ω–µ 64)
‚ùå Telemetry –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
```

### –ê–Ω–∞–ª–∏–∑ PCAP:
- **–í—Å–µ–≥–æ Client Hello:** 48 –ø–∞–∫–µ—Ç–æ–≤
- **Fake –ø–∞–∫–µ—Ç–æ–≤:** 0 ‚ùå
- **Real –ø–∞–∫–µ—Ç–æ–≤:** 48 (–≤—Å–µ —Å TTL=128)
- **–ü—Ä–æ–±–ª–µ–º–∞:** Bypass –≤–æ–æ–±—â–µ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è!

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ù–ê–•–û–î–ö–ê

### –í –ª–æ–≥–∞—Ö –ù–ï–¢ —Å—Ç—Ä–æ–∫:
```
[INFO] üéØ Applying bypass
[INFO] apply_bypass
```

**–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:** –ú–µ—Ç–æ–¥ `apply_bypass()` **–í–û–û–ë–©–ï –ù–ï –í–´–ó–´–í–ê–ï–¢–°–Ø**!

---

## üîç –ü–†–ò–ß–ò–ù–´

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã, –ø–æ—á–µ–º—É `apply_bypass()` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:

#### 1. **CLI –Ω–µ —Å–æ–∑–¥–∞–µ—Ç bypass engine**
```python
# –í cli.py:
‚ö†Ô∏è CLI –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç base_engine –Ω–∞–ø—Ä—è–º—É—é
‚ùå CLI –ù–ï —Å–æ–∑–¥–∞–µ—Ç bypass engine
```

#### 2. **Bypass engine –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**
- Engine —Å–æ–∑–¥–∞–µ—Ç—Å—è, –Ω–æ –º–µ—Ç–æ–¥ `start()` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
- –ò–ª–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –Ω–æ —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

#### 3. **–§–∏–ª—å—Ç—Ä WinDivert –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –ø–∞–∫–µ—Ç—ã**
- –§–∏–ª—å—Ç—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
- Target IPs –ø—É—Å—Ç—ã–µ
- –ü–æ—Ä—Ç 443 –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è

#### 4. **–ü–∞–∫–µ—Ç—ã –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è –∫–∞–∫ TLS ClientHello**
- –ú–µ—Ç–æ–¥ `_is_tls_clienthello()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç False
- Payload –ø—É—Å—Ç–æ–π –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

---

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –£–ñ–ï –ü–†–ò–ú–ï–ù–ï–ù–´

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. **Telemetry fix** - –∫–æ–¥ –Ω–∞–π–¥–µ–Ω –≤ base_engine.py
2. **Checksum fix** - –∫–æ–¥ –Ω–∞–π–¥–µ–Ω –≤ sender.py
3. **pydivert** - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–≤–µ—Ä—Å–∏—è 2.1.0)
4. **–ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞** - –µ—Å—Ç—å
5. **–§–∞–π–ª—ã** - –≤—Å–µ –Ω–∞ –º–µ—Å—Ç–µ

### ‚ùå –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. **apply_bypass() –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è** - –ö–†–ò–¢–ò–ß–ù–û!
2. **recon_summary.json –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è** - CLI –Ω–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ
3. **Bypass –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è** - –ø–∞–∫–µ—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üìã –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ CLI —Å–æ–∑–¥–∞–µ—Ç engine

–ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª `cli.py` –∏ –Ω–∞–π—Ç–∏:
- –ì–¥–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è bypass engine
- –ö–∞–∫ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ `start()`
- –ö–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏

–î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏ –≤ –∫–ª—é—á–µ–≤—ã–µ –º–µ—Å—Ç–∞:
- –í –Ω–∞—á–∞–ª–æ `apply_bypass()`
- –í `_run_bypass_loop()`
- –í —Ñ–∏–ª—å—Ç—Ä WinDivert

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä WinDivert

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ñ–∏–ª—å—Ç—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:
```python
filter_str = "outbound and (tcp.DstPort == 443 or udp.DstPort == 443)"
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å target_ips

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ target_ips –Ω–µ –ø—É—Å—Ç–æ–π:
```python
target_ips = {'162.159.140.229'}  # IP x.com
```

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –î–ï–ô–°–¢–í–ò–Ø

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å cli.py:**
```bash
grep -n "WindowsBypassEngine\|BypassEngine\|start\|apply_bypass" cli.py
```

2. **–î–æ–±–∞–≤–∏—Ç—å debug –ª–æ–≥–∏:**
```python
# –í –Ω–∞—á–∞–ª–æ apply_bypass():
self.logger.info(f"üî• apply_bypass CALLED for {packet.dst_addr}")
```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º debug:**
```bash
python cli.py x.com --debug --strategy "--dpi-desync=fake,fakeddisorder --dpi-desync-split-pos=3 --dpi-desync-fooling=badsum,badseq --dpi-desync-ttl=3" 2>&1 | tee debug_output.txt
```

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å debug_output.txt:**
```bash
grep "apply_bypass\|Applying bypass\|WinDivert\|bypass engine" debug_output.txt
```

---

## üí° –ì–ò–ü–û–¢–ï–ó–´

### –ì–∏–ø–æ—Ç–µ–∑–∞ #1: CLI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—ã–π –∫–æ–¥
**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–π–¥–µ–Ω—ã –≤ —Ñ–∞–π–ª–∞—Ö
**–í—ã–≤–æ–¥:** –ö–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω

### –ì–∏–ø–æ—Ç–µ–∑–∞ #2: Engine –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è ‚ö†Ô∏è
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ù–µ—Ç –ª–æ–≥–æ–≤ –æ—Ç engine
**–í—ã–≤–æ–¥:** –í–æ–∑–º–æ–∂–Ω–æ, `start()` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–ª–∏ –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π

### –ì–∏–ø–æ—Ç–µ–∑–∞ #3: –§–∏–ª—å—Ç—Ä WinDivert –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ù–µ—Ç –ª–æ–≥–æ–≤ "WinDivert –∑–∞–ø—É—â–µ–Ω"
**–í—ã–≤–æ–¥:** –í–æ–∑–º–æ–∂–Ω–æ, —Ñ–∏–ª—å—Ç—Ä –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –ø–∞–∫–µ—Ç—ã

### –ì–∏–ø–æ—Ç–µ–∑–∞ #4: CLI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥—Ä—É–≥–æ–π engine
**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è ‚ö†Ô∏è
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** CLI –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç base_engine –Ω–∞–ø—Ä—è–º—É—é
**–í—ã–≤–æ–¥:** –í–æ–∑–º–æ–∂–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è wrapper –∏–ª–∏ –¥—Ä—É–≥–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

---

## üîç –ß–¢–û –ü–†–û–í–ï–†–ò–¢–¨ –í CLI.PY

### 1. –ò–º–ø–æ—Ä—Ç—ã:
```python
from core.bypass.engine.base_engine import WindowsBypassEngine
# –∏–ª–∏
from core.hybrid_engine import HybridEngine
# –∏–ª–∏
from core.bypass_engine import BypassEngine
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ engine:
```python
engine = WindowsBypassEngine(config)
# –∏–ª–∏
engine = HybridEngine(...)
```

### 3. –ó–∞–ø—É—Å–∫ engine:
```python
engine.start(target_ips, strategy_map)
# –∏–ª–∏
engine.start_with_config(config)
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ strategy_map:
```python
strategy_map = {
    "default": strategy_task,
    "162.159.140.229": strategy_task
}
```

---

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –í–´–í–û–î

**–ü—Ä–æ–±–ª–µ–º–∞ –ù–ï –≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö telemetry –∏–ª–∏ checksum!**

**–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ bypass –≤–æ–æ–±—â–µ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è!**

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è telemetry –∏ checksum —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –Ω–æ –æ–Ω–∏ –Ω–µ –º–æ–≥—É—Ç —Å—Ä–∞–±–æ—Ç–∞—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ `apply_bypass()` –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è.

**–ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏, –ø–æ—á–µ–º—É CLI –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç bypass engine.**

---

## üìù –§–ê–ô–õ–´ –î–õ–Ø –ê–ù–ê–õ–ò–ó–ê

1. **cli.py** - –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
2. **core/hybrid_engine.py** - –≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ base_engine
3. **core/bypass_engine.py** - –≤–æ–∑–º–æ–∂–Ω–æ wrapper
4. **log.txt** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ engine

---

## üéØ –¶–ï–õ–¨

–ù–∞–π—Ç–∏, –≥–¥–µ –∏ –∫–∞–∫ CLI —Å–æ–∑–¥–∞–µ—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç bypass engine, –∏ –ø–æ—á–µ–º—É `apply_bypass()` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è.

---

–ö–æ–Ω–µ—Ü –æ—Ç—á—ë—Ç–∞.
